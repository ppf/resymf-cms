{% extends 'ReSymfCmsBundle:adminmenu:baseAdmin.html.twig' %}

{% block content %}
    {% if form_config is defined %}
        <div class="col-lg-2 col-md-2"></div>
        <div class="col-lg-8 col-md-8 col-sm-12 ">
            <div class="well">
                <form action="" method="POST" class="bs-example form-horizontal">
                    <fieldset>
                        <div class="form-group">
                            <div class="col-lg-2">
                            </div>
                            <div class="col-lg-9">
                                {# TODO: wstawić z ustawień #}
                                <legend>
                                    {% if edit_object is defined and form_config.editLabel is defined %}
                                        {{ form_config.editLabel }}
                                    {% elseif form_config.createLabel is defined %}
                                        {{ form_config.createLabel }}
                                    {% else %}
                                        Edit Object:
                                    {% endif %}
                                </legend>
                                <hr style="border-top: 1px dotted #616161;"/>
                            </div>
                        </div>
                        {% if form_config.fields %}
                            {% for field in form_config.fields %}

                                {% if edit_object is defined and attribute(edit_object,field.name) is defined %}
                                    {% set value = attribute(edit_object,field.name) %}
                                {% else %}
                                    {% set value = '' %}
                                {% endif %}

                                {% if field.type=='text' %}
                                    <div class="form-group">
                                        <label for="" class="col-lg-2 control-label">
                                            {% if field.fieldLabel %}
                                                {{ field.fieldLabel }}
                                            {% else %}
                                                {{ field.name }}
                                            {% endif %}
                                            :</label>

                                        <div class="col-lg-9">
                                            <input type="text" class="form-control" name="{{ field.name }}"
                                                   value="{{ value }}"/>
                                        </div>
                                    </div>
                                {% endif %}
                                {% if field.type=='editor' %}
                                    <div class="form-group">
                                        <label for="" class="col-lg-2 control-label">
                                            {% if field.fieldLabel %}
                                                {{ field.fieldLabel }}
                                            {% else %}
                                                {{ field.name }}
                                            {% endif %}
                                            :</label>

                                        <div class="col-lg-9">
                                            <textarea class="form-control" name="{{ field.name }}"
                                                      value=""> {{ value }}</textarea>
                                        </div>
                                    </div>
                                {% endif %}
                                {% if field.type == 'relation' %}
                                    {% if field.relationType == 'oneToMany' %}
                                        <div class="form-group">
                                            <label for="" class="col-lg-2 control-label">
                                                {% if field.fieldLabel %}
                                                    {{ field.fieldLabel }}
                                                {% else %}
                                                    {{ field.name }}
                                                {% endif %}
                                                :</label>

                                            <div class="col-lg-9">

                                                <select class="multiselect multiselect-search" multiple="multiple" name="{{ field.name }}">
                                                    {% for option in multi_select[field.name]['all'] %}
                                                        <option value="{{ option.id }}">{{ option.name }}</option>
                                                    {% endfor %}

                                                    {#<option value="tomatoes">Tomatoes</option>#}
                                                    {#<option value="mozarella">Mozzarella</option>#}
                                                    {#<option value="mushrooms">Mushrooms</option>#}
                                                    {#<option value="pepperoni">Pepperoni</option>#}
                                                    {#<option value="onions">Onions</option>#}
                                                </select>
                                            </div>
                                        </div>
                                    {% endif %}
                                {% endif %}
                            {% endfor %}
                        {% endif %}
                        <div class="form-group">
                            <div class="col-lg-2 col-md-2 col-sm-2">
                            </div>
                            <div class="col-lg-9 col-md-9 col-sm-9">
                                <input type="submit" class="btn btn-primary" value="{{ 'object.save'|trans }}"/>
                            </div>
                        </div>
                    </fieldset>
                </form>
            </div>
        </div>
        <div class="col-lg-2 col-md-2"></div>
    {% endif %}
{% endblock %}